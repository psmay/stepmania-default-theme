# 01 #
[Global]
FallbackTheme=_fallback

[Common]
# How big the design of the theme is. for example, if a theme was designed for
# 1080p, it would be shrunken for 640x480, as well as that, if it was designed
# for 480p, it would be enlarged for bigger screens!
ScreenWidth=1
ScreenHeight=720
AutoSetStyle=theme_config:get_data().AutoSetStyle

# 02 #
[LightsManager]

[ProfileManager]

[SongManager]
NumSongGroupColors=1
#
SongGroupColor1=Color("White")
CourseGroupColor1=color("1,1,1,1")
ExtraColor=color("#F5BCBC")	-- purple

[UnlockManager]

[ScreenSystemLayer]
ShowClock=true
CreditsP1OnCommand=horizalign,left;vertalign,bottom;zoom,1;shadowlength,1;diffuse,ColorLightTone(PlayerColor(PLAYER_1));diffusetopedge,color("#FFFFFF");strokecolor,ColorMidTone(PlayerColor(PLAYER_1));
#
CreditsP2OnCommand=horizalign,right;vertalign,bottom;zoom,1;shadowlength,1;diffuse,ColorLightTone(PlayerColor(PLAYER_2));diffusetopedge,color("#FFFFFF");strokecolor,ColorMidTone(PlayerColor(PLAYER_2));
#


#
[ScreenJukebox]
MinSecondsToStep=0
MinSecondsToMusic=0

ShowStageDisplay=false

ShowLifeMeterBarP1=false
ShowLifeMeterBarP2=false

ScoreP1OnCommand=visible,false
ScoreP2OnCommand=visible,false

#
[ScreenLogo]
TimerSeconds=20
ShowHeader=false
ShowFooter=false

ShowLogo=true
LogoX=SCREEN_CENTER_X
LogoY=SCREEN_CENTER_Y-18
LogoOnCommand=
LogoOffCommand=

ArcadeOverlayX=SCREEN_CENTER_X
ArcadeOverlayY=SCREEN_BOTTOM-60
ArcadeOverlay.TextX=
ArcadeOverlay.TextY=

NextScreen="ScreenDemonstration"

[ScreenDemonstration]
ShowStageDisplay=false

ShowLifeMeterBarP1=false
ShowLifeMeterBarP2=false

ScoreP1OnCommand=visible,false
ScoreP2OnCommand=visible,false

# 03 #

[ScreenInit]
ShowHeader=false
ShowFooter=false
PrepareScreens="ScreenTitleMenu,ScreenTitleJoin"
GroupedScreens="ScreenInit,ScreenTitleJoin,ScreenTitleMenu"
PersistScreens="ScreenInit,ScreenTitleJoin,ScreenTitleMenu"

[Player]
RollBodyIncrementsCombo=theme_config:get_data().ComboOnRolls

[ScreenDebugOverlay]
BackgroundColor=color("0,0,0,0.8")

LineOnColor=Color.White
LineOffColor=color("0.5,0.5,0.5,1")
LineStartY=SCREEN_TOP+50
LineSpacing=19
LineButtonX=SCREEN_CENTER_X-50
LineFunctionX=SCREEN_CENTER_X-30

ButtonTextOnCommand=NoStroke;zoom,0.8;shadowlength,1
ButtonTextToggledCommand=linear,0.025;textglowmode,'TextGlowMode_Inner';glow,color("1,0,0,1");sleep,0.125;decelerate,0.2;glow,color("1,0,0,0");
FunctionTextOnCommand=NoStroke;zoom,0.8;shadowlength,1

PageStartX=SCREEN_CENTER_X-100
PageSpacingX=120
PageTextOnCommand=NoStroke;zoom,0.75;strokecolor,Color.Outline;
PageTextGainFocusCommand=diffuse,color("1,1,1,1");
PageTextLoseFocusCommand=diffuse,color("0.6,0.6,0.6,1")

DebugMenuHeaderX=SCREEN_LEFT+80
DebugMenuHeaderY=SCREEN_TOP+18
DebugMenuHeaderOnCommand=diffusebottomedge,color("0.675,0.675,0.675,1");strokecolor,Color.Outline
DebugMenuHeaderOffCommand=

HeaderTextX=SCREEN_LEFT+80
HeaderTextY=SCREEN_TOP+18
HeaderTextOnCommand=textglowmode,'TextGlowMode_Inner';glowshift;effectperiod,4;diffusebottomedge,color("0.75,0.75,0.75,1");strokecolor,Color.Outline
HeaderTextOffCommand=
#

[ScreenPrompt]
ShowHeader=false
ShowFooter=false

[ScreenTextEntry]
ShowHeader=false
ShowFooter=false

[ScreenTitleMenu]
ShowHeader=false
ShowFooter=false

ShowLogo=true
LogoX=SCREEN_CENTER_X
LogoY=SCREEN_CENTER_Y-108
LogoOnCommand=
LogoOffCommand=
#
ShowTimingDifficulty=true
TimingDifficultyX=50
TimingDifficultyY=50
TimingDifficultyOnCommand=horizalign,left
TimingDifficultyOffCommand=
#
ShowLifeDifficulty=true
LifeDifficultyX=50+(240)
LifeDifficultyY=50
LifeDifficultyOnCommand=horizalign,left
LifeDifficultyOffCommand=
#
CurrentGametypeX=50+(240*2)
CurrentGametypeY=50
CurrentGametypeOnCommand=horizalign,left
CurrentGametypeOffCommand=
#
ShowNumSongs=true
NumSongsX=16
NumSongsY=110
NumSongsOnCommand=horizalign,left;zoom,0.7;shadowlength,1;diffuse,color("#33312D");playcommand,"Set"
NumSongsOffCommand=
ShowCurrentGametype=true
#
ShowSystemDirection=false
SystemDirectionX=SCREEN_LEFT+40
SystemDirectionY=SCREEN_TOP+24
SystemDirectionOnCommand=diffuse,color("#33312D");
SystemDirectionOffCommand=
#
ShowVersionInfo=true
VersionInfoX=SCREEN_RIGHT-16
VersionInfoY=SCREEN_TOP+24
VersionInfoOnCommand=diffuse,color("#33312D");
VersionInfoOffCommand=
#
ShowNetworkStatus=true
NetworkStatusX=SCREEN_LEFT+12
NetworkStatusY=SCREEN_BOTTOM-64
NetworkStatusOnCommand=halign,0;
NetworkStatusOffCommand=linear,0.5;cropright,1
#
WrapScroller=false
ScrollerTransform=function(self,offset,itemIndex,numItems) self:y((46)*(itemIndex-(numItems-1)/2)); end;
ScrollerSecondsPerItem=0
ScrollerNumItemsToDraw=20
ScrollerX=SCREEN_CENTER_X
ScrollerY=SCREEN_CENTER_Y+140
ScrollerOnCommand=zoom,0;smooth,0.35;zoom,1
#

[ScreenCaution]
ShowHeader=false
ShowFooter=false
ShowHelp=false

[ScreenCredits]
ShowHeader=false
ShowFooter=false
ShowHelp=false

[ScreenHighScores]
Fallback="ScreenWithMenuElements"
ShowFooter=false
ShowHelp=false
ResetGameState=false
AttractVolume=true

FOV=90

ScrollerItemsToDraw=9
ScrollerOnCommand=x,SCREEN_CENTER_X;y,SCREEN_CENTER_Y;SetMask,624,80;draworder,-5
ScrollerItemTransformFunction=function(self,offset,itemIndex,numItems) \
	self:y(92 * offset); \
end;

[ScreenProfileLoad]
ShowHeader=false
ShowFooter=false
ShowHelp=false

[ScreenProfileSave]
ShowHeader=false
ShowFooter=false
ShowHelp=false

[ScreenMapControllers]
ShowHeader=false
ShowFooter=false

[ScreenWithMenuElements]
WaitForChildrenBeforeTweeningOut=true

FOV=90
ShowHeader=true
HeaderX=SCREEN_CENTER_X
HeaderY=SCREEN_TOP-2
HeaderOnCommand=draworder,1;
HeaderOffCommand=

ShowFooter=true
FooterX=SCREEN_CENTER_X
FooterY=SCREEN_BOTTOM-10
FooterOnCommand=draworder,5;y,SCREEN_BOTTOM+64;decelerate,0.4;y,SCREEN_BOTTOM;
FooterOffCommand=sleep,0.175;decelerate,0.4;y,SCREEN_BOTTOM+64;

TimerX=SCREEN_RIGHT-60
TimerY=SCREEN_TOP+45
TimerOnCommand=draworder,10;diffuse,color("#fcb62c");zoom,0;sleep,0.3;smooth,0.3;zoom,0.75;
TimerOffCommand=smooth,0.2;zoom,0;

StageDisplayNumberOffset=1
ScreenInDelay=0
ScreenOutDelay=0
#
ShowHelp=true
HelpX=SCREEN_CENTER_X
HelpY=SCREEN_BOTTOM-26
HelpOnCommand=SetSecsBetweenSwitches,4;zoom,1;maxwidth,720;shadowlength,1;diffuse,color("#FFFFFF");draworder,105;addy,64;decelerate,0.4;addy,-64;
HelpOffCommand=sleep,0.175;decelerate,0.4;addy,64;

AlternateHelpDisplayX=SCREEN_CENTER_X
AlternateHelpDisplayY=SCREEN_BOTTOM-26
# AlternateHelpDisplayOnCommand=draworder,105;
AlternateHelpDisplayOnCommand=SetSecsBetweenSwitches,4;zoom,1;maxwidth,720;shadowlength,1;diffuse,color("#FFFFFF");diffusealpha,0;draworder,105;addy,64;decelerate,0.4;addy,-64;
AlternateHelpDisplayOffCommand=sleep,0.175;decelerate,0.4;addy,64;

# This is useful 
ArcadeOverlayX=
ArcadeOverlayY=
ArcadeOverlayOnCommand=draworder,100
ArcadeOverlayOffCommand=
#
ArcadeOverlay.TextX=SCREEN_CENTER_X
ArcadeOverlay.TextY=SCREEN_BOTTOM-48
ArcadeOverlay.TextOnCommand=
ArcadeOverlay.TextOffCommand=

[ScreenOptions]
CursorTweenSeconds=0.05
#
DisqualifyP1X=SCREEN_CENTER_X-176
DisqualifyP1Y=SCREEN_BOTTOM-98
DisqualifyP1OnCommand=draworder,100;zoom,0.5;shadowlength,1;player,PLAYER_1
DisqualifyP2X=SCREEN_CENTER_X+176
DisqualifyP2Y=SCREEN_BOTTOM-98
DisqualifyP2OnCommand=draworder,100;zoom,0.5;shadowlength,1;player,PLAYER_2
#
ContainerOnCommand=x,-SCREEN_WIDTH;decelerate,0.35;x,SCREEN_LEFT
ContainerOffCommand=decelerate,0.35;addx,SCREEN_WIDTH;
CursorOnCommand=
#
LineHighlightOnCommand=cropleft,0.1;cropright,0.1;zoomx,1.25;fadeleft,0.05;faderight,0.05;diffuseshift;effectcolor2,color("1,1,1,0.5");effectcolor1,color("1,1,1,0.25");effectclock,'beat'
LineHighlightChangeCommand=linear,0.1;diffuse,Color("White");diffuseshift;effectcolor2,color("1,1,1,0.5");effectcolor1,color("1,1,1,0.25")
LineHighlightChangeCommand=linear,0.1;diffuse,Color("White");diffuseshift;effectcolor2,color("1,1,1,0.5");effectcolor1,color("1,1,1,0.25")
LineHighlightChangeToExitCommand=linear,0.1;diffuse,Color("Red");diffuseshift;effectcolor2,color("1,0,0,0.5");effectcolor1,color("1,0,0,0.25")
#
LineHighlightP1OnCommand=diffuse,PlayerColor(PLAYER_1);zoomtowidth,720;
LineHighlightP1ChangeCommand=finishtweening;diffusealpha,1;
LineHighlightP1ChangeToExitCommand=finishtweening;diffusealpha,0.15;
LineHighlightP2OnCommand=diffuse,PlayerColor(PLAYER_2);zoomtowidth,720;
LineHighlightP2ChangeCommand=finishtweening;diffusealpha,1;
LineHighlightP2ChangeToExitCommand=finishtweening;diffusealpha,0.15;
#
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:y(SCREEN_CENTER_Y-213+50*offsetFromCenter) end
#
ShowExitRow=true
SeparateExitRow=true
SeparateExitRowY=SCREEN_CENTER_Y+190
#
ShowScrollBar=true
ScrollBarHeight=420
ScrollBarTime=0.05
ScrollBarX=SCREEN_CENTER_X+450
ScrollBarY=SCREEN_CENTER_Y-20
#
ShowExplanations=true
ExplanationP1X=SCREEN_CENTER_X-450+10
ExplanationP1Y=SCREEN_CENTER_Y+250
ExplanationP1OnCommand=diffuse,ColorDarkTone(PlayerColor(PLAYER_1));wrapwidthpixels,310/0.5;zoom,0.7;halign,0;cropright,1;linear,0.5;cropright,0;vertspacing,4;
ExplanationP1OffCommand=
ExplanationP2X=SCREEN_CENTER_X+450-10
ExplanationP2Y=SCREEN_CENTER_Y+250
ExplanationP2OnCommand=diffuse,ColorDarkTone(PlayerColor(PLAYER_2));wrapwidthpixels,310/0.5;zoom,0.7;halign,1;cropright,1;linear,0.5;cropright,0;vertspacing,4;
ExplanationP2OffCommand=
ExplanationTogetherX=SCREEN_CENTER_X
ExplanationTogetherY=SCREEN_CENTER_Y+245
ExplanationTogetherOnCommand=stoptweening;zoom,0.6;diffuse,color("#000000");wrapwidthpixels,960/0.8;cropright,1;linear,0.5;cropright,0;vertspacing,-14
ExplanationTogetherOffCommand=stoptweening

[OptionsCursorP1]
LeftOnCommand=horizalign,right;diffuse,ColorLightTone(PlayerColor(PLAYER_1))
MiddleOnCommand=diffuse,ColorLightTone(PlayerColor(PLAYER_1))
RightOnCommand=horizalign,left;diffuse,ColorLightTone(PlayerColor(PLAYER_1))

[OptionsCursorP2]
LeftOnCommand=horizalign,right;diffuse,ColorLightTone(PlayerColor(PLAYER_2))
MiddleOnCommand=diffuse,ColorLightTone(PlayerColor(PLAYER_2))
RightOnCommand=horizalign,left;diffuse,ColorLightTone(PlayerColor(PLAYER_2))

[OptionsUnderline]

[OptionsUnderlineP1]
LeftOnCommand=horizalign,right;diffuse,ColorLightTone(PlayerColor(PLAYER_1))
MiddleOnCommand=;diffuse,ColorLightTone(PlayerColor(PLAYER_1))
RightOnCommand=horizalign,left;diffuse,ColorLightTone(PlayerColor(PLAYER_1))

[OptionsUnderlineP2]
LeftOnCommand=horizalign,right;diffuse,ColorLightTone(PlayerColor(PLAYER_2))
MiddleOnCommand=;diffuse,ColorLightTone(PlayerColor(PLAYER_2))
RightOnCommand=horizalign,left;diffuse,ColorLightTone(PlayerColor(PLAYER_2))

[ScreenOptionsMaster]

[ScreenOptionsSimple]
NumRowsShown=10
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:y(SCREEN_CENTER_Y-210+43*offsetFromCenter) end
ShowExitRow=true
SeparateExitRow=false
SeparateExitRowY=SCREEN_BOTTOM-40

ExplanationTogetherX=SCREEN_CENTER_X
ExplanationTogetherY=SCREEN_CENTER_Y+245
ExplanationTogetherOnCommand=stoptweening;zoom,1;diffuse,color("#512232");wrapwidthpixels,700/0.75;cropright,1;linear,0.5;cropright,0

[ScreenOptionsSimpleService]

[ScreenOptionsService]
ShowHeader=true
LineNames="GameType,GraphicSound,KeyConfig,Arcade,InputOptions,SoundGraphics,Theme,Profiles,Network,Advanced,Reload,Credits"
LineTheme="gamecommand;screen,ScreenOptionsTheme;name,Theme Options"
LineCredits="gamecommand;screen,ScreenCredits;name,StepMania Credits"
# ScreenOptionsSystemDirection"
NumRowsShown=10
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:y(SCREEN_CENTER_Y-210+43*offsetFromCenter) end
SeparateExitRow=false
SeparateExitRowY=SCREEN_BOTTOM-40

[OptionRowService]
TitleGainFocusCommand=diffuse,color("#9d324e");
TitleLoseFocusCommand=diffuse,color("#512232");
TitleOnCommand=maxwidth,600;zoom,0.6

[OptionRowExit]
FrameOnCommand=visible,true;diffusealpha,0.2;
FrameX=SCREEN_CENTER_X;

ItemsMinBaseZoom=1
ItemOnCommand=zoom,1;uppercase,true;diffuse,color("#A61C17");
ItemGainFocusCommand=stoptweening;linear,0.1;diffuse,color("#A61C17");
ItemLoseFocusCommand=stoptweening;decelerate,0.05;diffuse,color("#A61C17");

FrameGainFocusCommand=stoptweening;linear,0.1;diffusealpha,1;
FrameLoseFocusCommand=stoptweening;decelerate,0.05;diffusealpha,0.2;

ColorSelected=color("#A61C17")
ColorNotSelected=color("#A61C17")
ColorDisabled=color("#666666")

ItemsLongRowP1X=SCREEN_CENTER_X-1024
ItemsLongRowP2X=SCREEN_CENTER_X+1024
ItemsLongRowSharedX=SCREEN_CENTER_X

[ScreenOptionsServiceChild]
ExplanationTogetherX=SCREEN_CENTER_X
ExplanationTogetherY=SCREEN_CENTER_Y+245
ExplanationTogetherOnCommand=stoptweening;zoom,0.75;diffuse,color("#512232");wrapwidthpixels,700/0.75;cropright,1;linear,0.5;cropright,0

[ScreenOptionsServiceExtendedChild]

[OptionRow]
TitleX=SCREEN_CENTER_X-440
TitleGainFocusCommand=diffuse,color("#9d324e");
TitleLoseFocusCommand=diffuse,color("#320E1B");
TitleOnCommand=shadowlength,0;wrapwidthpixels,SCREEN_WIDTH*0.4;vertspacing,-6;zoom,0.5;horizalign,left;
ColorSelected=color("#320E1B")
ColorNotSelected=color("#9d324e")
ColorDisabled=color("0.37,0.16,0.29,0.5")
ItemsStartX=SCREEN_CENTER_X-190
ItemsEndX=SCREEN_CENTER_X+280
TweenSeconds=0.09
ItemOnCommand=shadowlength,0;zoom,0.75

[OptionsUnderline]
Fallback="OptionsCursor"

[OptionsUnderlineP1]
Fallback="OptionsUnderline"
LeftX=0
MiddleX=0
RightX=0
LeftY=14
MiddleY=14
RightY=14

[OptionsUnderlineP2]
Fallback="OptionsUnderline"
LeftX=0
MiddleX=0
RightX=0
LeftY=17+4
MiddleY=17+4
RightY=17+4

[ScreenMiniMenu]
HeaderY=SCREEN_TOP
HeaderOnCommand=draworder,100;visible,false
LineHighlightOnCommand=
LineHighlightChangeCommand=
LineHighlightChangeToExitCommand=
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:y(SCREEN_CENTER_Y-219+43*offsetFromCenter) end
NumRowsShown=12
ContainerOnCommand=x,-SCREEN_WIDTH;decelerate,0.35;x,SCREEN_LEFT
ContainerOffCommand=decelerate,0.35;addx,SCREEN_WIDTH;
CursorOnCommand=
ColorDisabled=color("0.37,0.16,0.29,0.5")

[OptionRowMiniMenu]
Fallback="OptionRow"
TitleX=SCREEN_CENTER_X-400
TitleOnCommand=horizalign,left;shadowlength,0;zoom,0.6;
ItemsLongRowP1X=SCREEN_CENTER_X-240
ItemsLongRowP2X=SCREEN_CENTER_X+240+50
ItemsLongRowSharedX=SCREEN_CENTER_X+200+50
ItemOnCommand=zoom,1

ColorSelected=color("#512232")
ColorNotSelected=color("#9d324e")
ColorDisabled=color("0.37,0.16,0.29,0.5")

[OptionRowMiniMenuEditHelp]
Fallback="OptionRowMiniMenu"

TitleOnCommand=halign,0;strokecolor,color("#222222FF");shadowlength,1;zoom,0.5

[ScreenMiniMenuContext]
PageOnCommand=visible,true
NumRowsShown=12
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:y(SCREEN_CENTER_Y-217+43*offsetFromCenter) end
ItemsStartX=SCREEN_CENTER_X+120
ItemsEndX=SCREEN_CENTER_X+280
LineHighlightX=SCREEN_CENTER_X

[OptionRowMiniMenuContext]
Fallback="OptionRowMiniMenu"
TitleX=240



[ScreenOptionsTheme]
Class="ScreenWithMenuElements"
Fallback="ScreenWithMenuElements"
RepeatRate=10
RepeatDelay=.25
NextScreen="ScreenOptionsService"
PrevScreen="ScreenOptionsService"

[ScreenSelectStyle]
UpdateOnMesage=""
#
FOV=90
#
PerChoiceScrollElement=false
PerChoiceIconElement=false
#
# Having one lua function is so much better than dozens of metrics. -Kyz
ChoiceNames="lua,ScreenSelectStyleChoices()"
#
ShowScroller=false
ShowIcon=true
WrapScroller=false
UseIconMetrics=true
#
IconGainFocusCommand=stoptweening;bounceend,0.05;zoom,1;
IconLoseFocusCommand=stoptweening;decelerate,0.1;zoom,0.8;
#
IconChoicePosFunction=ScreenSelectStylePositions
IconChoiceOnCommand=zoom,0;bounceend,0.35;zoom,1
IconChoiceOffCommand=linear,0.05;zoomx,0
#

[ScreenSelectPlayMode]
PerChoiceScrollElement=false
PerChoiceIconElement=false
#
ShowScroller=false
WrapScroller=true
ShowIcon=true
#
UseIconMetrics=true
#
IconChoicePosFunction=ScreenSelectStylePositions
IconChoiceOnCommand=
#todo: I'd like the two icons on the lower half (Rave and Oni as it is now) to fly off-screen downwards instead of upwards
IconChoiceOffCommand=

[ScreenSelectMusic]
UsePlayerSelectMenu=false
# OptionsMenuAvailable=(getenv(sMode) ~= Oni)
SelectMenuAvailable=true
# ModeMenuAvailable=(getenv(sMode) == Normal)
# HelpDisplay has things added here to make sure it disappears for another 
# actor, which we defined in this screens decorations.
HelpSelectMenuOpenedMessageCommand=stoptweening;maxwidth,480/0.675;zoom,0.675;accelerate,0.125;diffusealpha,0;zoom,1;
HelpSelectMenuClosedMessageCommand=stoptweening;maxwidth,480/0.675;zoom,0.675*0.75;bouncebegin,0.125;diffusealpha,1;zoom,1
# Clone everything from HelpDisplay: we're lazy
ShowAlternateHelpDisplay=true
# 
AlternateHelpDisplaySelectMenuOpenedMessageCommand=stoptweening;maxwidth,480/0.675;zoom,0.675*1.25;bounceend,0.2;diffusealpha,1;zoom,1;
AlternateHelpDisplaySelectMenuClosedMessageCommand=stoptweening;maxwidth,480/0.675;zoom,1;accelerate,0.125;diffusealpha,0;zoom,0.675*0.75;
#
MusicWheelX=SCREEN_CENTER_X+326
MusicWheelY=SCREEN_CENTER_Y-12
MusicWheelOnCommand=draworder,-5;fov,90;vanishpoint,SCREEN_CENTER_X+160,SCREEN_CENTER_Y;addx,SCREEN_CENTER_X+60;sleep,0.2;decelerate,0.6;addx,-SCREEN_CENTER_X-60
MusicWheelOffCommand=decelerate,0.4;x,SCREEN_WIDTH/0.75
#
BannerX=SCREEN_CENTER_X-229
BannerY=SCREEN_CENTER_Y-165-11
BannerOnCommand=draworder,45;scaletoclipped,468,146;visible,true;zoomy,0;decelerate,0.3;zoomy,1;
BannerOffCommand=decelerate,0.2;zoomx,0;
#
ShowDifficultyList=not GAMESTATE:IsCourseMode();
DifficultyListX=SCREEN_CENTER_X-228
DifficultyListY=SCREEN_CENTER_Y-31
DifficultyListOnCommand=
DifficultyListStartSelectingStepsMessageCommand=
DifficultyListOffCommand=
#
DifficultyListTweenOnCommand=
DifficultyListTweenOffCommand=
# Shrink the difficultylist for viewing panedisplays;
# DifficultyListSelectMenuOpenedMessageCommand=stoptweening;decelerate,0.1;zoom,0.5;
# DifficultyListSelectMenuClosedMessageCommand=stoptweening;accelerate,0.05;zoom,1;
#
ShowSongTime=true
SongTimeX=
SongTimeY=SCREEN_CENTER_Y-78+2
SongTimeOnCommand=horizalign,left;zoom,1.0;diffuse,color("#DFE2E9")

ShowBPMDisplay=true
BPMDisplayX=SCREEN_CENTER_X-179-63
BPMDisplayY=SCREEN_CENTER_Y-78+2
BPMDisplayOnCommand=horizalign,right;zoom,1.0;

ShowSongOptions=true
SongOptionsX=SCREEN_CENTER_X
SongOptionsY=SCREEN_CENTER_Y
SongOptionsOnCommand=visible,false;draworder,1000;diffuse,color("#FF8312");diffusebottomedge,color("#FFD75B");shadowlength,1;strokecolor,color("#472211");
SongOptionsOffCommand=
SongOptionsShowCommand=visible,true;diffusealpha,0;zoom,0;settext,THEME:GetString("ScreenSelectMusic","Press Start For Options");decelerate,0.5;zoom,1.25;diffusealpha,1;
SongOptionsEnterCommand=settext,THEME:GetString("ScreenSelectMusic","Entering Options");sleep,0.1;decelerate,0.3;diffusealpha,0;
SongOptionsHideCommand=sleep,0.3;decelerate,0.3;diffusealpha,0;
#
ShowStageDisplay=true
StageDisplayX=
StageDisplayY=SCREEN_CENTER_Y-74
StageDisplayOnCommand=
StageDisplayOffCommand=
StageDisplayUseShortString=true
#
ShowCourseContentsList=GAMESTATE:IsCourseMode()
CourseContentsListX=SCREEN_CENTER_X-228
CourseContentsListY=SCREEN_CENTER_Y-20
CourseContentsListOnCommand=draworder,-1;addx,-SCREEN_CENTER_X;decelerate,0.1;addx,SCREEN_CENTER_X
CourseContentsListOffCommand=bouncebegin,0.05;zoomx,0;
#
ShowNumCourseSongs=GAMESTATE:IsCourseMode()
NumCourseSongsX=SCREEN_CENTER_X-179
NumCourseSongsY=SCREEN_CENTER_Y-64+2
NumCourseSongsOnCommand=
NumCourseSongsOffCommand=
#
ShowPaneDisplayTextP1=true
PaneDisplayTextP1X=SCREEN_CENTER_X-200+24-32
PaneDisplayTextP1Y=SCREEN_CENTER_Y+207+8
PaneDisplayTextP1OnCommand=player,PLAYER_1;horizalign,center;
PaneDisplayTextP1OffCommand=
PaneDisplayTextP1PlayerJoinedMessageCommand=%function(self,params) if params.Player == PLAYER_1 then self:playcommand("On") end end
#
ShowPaneDisplayTextP2=true
PaneDisplayTextP2X=SCREEN_CENTER_X+200-72-4+32
PaneDisplayTextP2Y=SCREEN_CENTER_Y+207+8
PaneDisplayTextP2OnCommand=player,PLAYER_2;horizalign,center;
PaneDisplayTextP2OffCommand=
PaneDisplayTextP2PlayerJoinedMessageCommand=%function(self,params) if params.Player == PLAYER_2 then self:playcommand("On") end end
#
PercentScoreP1X=SCREEN_CENTER_X-353-32
PercentScoreP1Y=SCREEN_CENTER_Y+284
PercentScoreP1OnCommand=zoomy,0;zoomx,0.35;sleep,0.8;smooth,0.2;zoomy,0.35
PercentScoreP1OffCommand=smooth,0.2;zoomy,0;addy,-6;
#
PercentScoreP2X=SCREEN_CENTER_X+353+32
PercentScoreP2Y=SCREEN_CENTER_Y+284
PercentScoreP2OnCommand=zoomy,0;zoomx,0.35;sleep,0.8;smooth,0.2;zoomy,0.35
PercentScoreP2OffCommand=smooth,0.2;zoomy,0;addy,-6;
NullScoreString=string.format("% 9i",0)
#
#
CDTitleX=SCREEN_CENTER_X-160+90
CDTitleY=SCREEN_TOP+160+(36/2)+8
CDTitleFrontCommand=diffuse,color('0.5,0.5,0.5,1');cullmode,'CullMode_Front'
CDTitleBackCommand=cullmode,'CullMode_Back'
#CDTitleOnCommand=draworder,106;shadowlength,1;zoom,0.75;diffusealpha,1;zoom,0;bounceend,0.1;zoom,0.75;spin;effectmagnitude,0,180,0;
CDTitleOnCommand=visible,false
CDTitleOffCommand=bouncebegin,0.05;zoomx,0;

[ScreenNetSelectMusic]
PlayerOptionsScreen="ScreenNestyPlayerOptions"

[ScreenSelectCourse]
# Since ScreenSelectCourse falls back on ScreenSelectMusic, it can just get the metrics it needs
# from the latter; especially since the course mode-specific items are set to only show during
# course mode on their own anyways.
SelectMenuAvailable=false

[BPMDisplay]
SetNoBpmCommand=stoptweening;stopeffect;maxwidth,128;linear,0.2;diffuse,color("#CFCAC3");
SetNormalCommand=stoptweening;stopeffect;maxwidth,128;linear,0.2;diffuse,color("#DFE2E9");
SetChangeCommand=stoptweening;stopeffect;maxwidth,128;linear,0.2;diffuse,color("#EDD7B9");
SetRandomCommand=stoptweening;maxwidth,128;linear,0.2;diffuse,color("#DE2626");textglowmode,'TextGlowMode_Inner';glowshift;effectcolor1,color("#EB7515");effectcolor2,color("#FF0000");
SetExtraCommand=stoptweening;maxwidth,128;linear,0.2;diffuse,Color("Red");diffusebottomedge,BoostColor(Color("Red"),0.5);diffuseshift;effectcolor1,color("1,1,1,1");effectcolor2,color("0.475,0.475,0.475,1");
RandomCycleSpeed=0.2		--  smaller numbers mean the bpm cycles faster

[DifficultyList]
ItemsSpacingY=90
ItemsSpacingX=
NumShownItems=3

[StepsDisplayListRow]
# TODO: Make this use DifficultyList?
CapitalizeDifficultyNames=false
NumShownItems=6
ItemsSpacingY=37
MoveCommand=decelerate,0.05

FrameX=
FrameOnCommand=zoom,0.6
FrameSetCommand=%function(self,param) \
	if param.CustomDifficulty and param.CustomDifficulty ~= "" then \
		self:diffuse(ColorLightTone( CustomDifficultyToColor(param.CustomDifficulty) )); \
	else \
		self:diffuse(color('1,1,1,1')); \
	end; \
end;
#
NumTicks=10
MaxTicks=10
#
ShowMeter=true
MeterX=84+24
MeterOnCommand=zoom,0.6;maxwidth,47
MeterSetCommand=%function(self,param) \
	if param.CustomDifficulty and param.CustomDifficulty ~= "" then \
		self:diffuse(ColorDarkTone( CustomDifficultyToColor(param.CustomDifficulty) )); \
	end; \
	if param.Meter then \
		if param.Meter >= 13 then \
			self:stopeffect(); \
		else \
			self:stopeffect(); \
		end; \
	end; \
end;
#
ShowDescription=true
DescriptionX=-84
DescriptionOnCommand=horizalign,left;zoom,1;maxwidth,130;uppercase,true;
DescriptionSetCommand=%function(self,param) \
	if self:GetText() == "" then \
		self:settext("Edit"); \
	end; \
	if param.CustomDifficulty and param.CustomDifficulty ~= "" then \
		self:diffuse(ColorDarkTone(CustomDifficultyToColor(param.CustomDifficulty))); \
	end; \
end;
#
ShowAutogen=true
AutogenX=0
AutogenY=0
AutogenOnCommand=diffuseshift;effectcolor1,Color.Alpha( Color("Red") , 0.5 );effectcolor2,ColorMidTone( Color("Red") );zoom,0.6
#AutogenOnCommand=zoom,0.75;
#
ShowStepsType=true
StepsTypeX=-97
StepsTypeY=0
StepsTypeOnCommand=
StepsTypeSetCommand=

[MusicWheel]
ItemTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
	self:y(offsetFromCenter*68); \
	if math.abs(offsetFromCenter) < 1 then \
		self:x(-20+math.abs(offsetFromCenter)*20); \
	end; \
end
HighlightOnCommand=addx,-20;diffuseramp;effectcolor2,Color.White;effectcolor1,color("1,1,1,0.2");effectclock,'beatnooffset'
NumWheelItems=13

ShowRoulette=true
ShowRandom=true

[MusicWheelItem]
Fallback=WheelItemBase
IconX=-190
IconY=0
IconOnCommand=
#
SectionCountX=-245
SectionExpandedOnCommand=x,-200;maxwidth,SCREEN_WIDTH*0.31;horizalign,left;shadowlength,1;strokecolor,color("#163742")
SectionCollapsedOnCommand=x,-200;maxwidth,SCREEN_WIDTH*0.31;horizalign,left;shadowlength,1;strokecolor,color("#163742")
SectionCountOnCommand=zoom,0.6;addy,2;diffuse,color("#000000");shadowlength,1;diffusealpha,0.75
#
WheelNotifyIconX=-245
WheelNotifyIconY=0
WheelNotifyIconOnCommand=zoom,1;

RouletteX=-200
RouletteY=0
RouletteOnCommand=zoom,1.25;uppercase,true;rainbowscroll,true;shadowlength,1;horizalign,left;

RandomX=-200
RandomY=0
RandomOnCommand=zoom,1.25;uppercase,true;rainbowscroll,true;shadowlength,1;horizalign,left;

GradeP1X=-196
GradeP1Y=-14
GradeP2X=-196
GradeP2Y=14

CourseX=-210
CourseOnCommand=zoom,1.0;horizalign,left;shadowlength,1;maxwidth,SCREEN_WIDTH*0.31;strokecolor,color("#42292E")

ModeX=-210
ModeOnCommand=zoom,1.0;horizalign,left;shadowlength,1;maxwidth,SCREEN_WIDTH*0.31;strokecolor,color("#42292E")

[TextBanner]
TitleX=150
TitleY=0
TitleOnCommand=shadowlength,2;horizalign,left
SubtitleX=90
SubtitleY=0
SubtitleOnCommand=shadowlength,1;horizalign,left
ArtistX=90
ArtistY=0
ArtistOnCommand=shadowlength,1;horizalign,left
ArtistPrependString="/"
AfterSetCommand=%function(self) \
	local Title=self:GetChild("Title"); \
	local Subtitle=self:GetChild("Subtitle"); \
	local Artist=self:GetChild("Artist"); \
	if Subtitle:GetText() == "" then \
		(cmd(zoom,1.1;maxwidth,SCREEN_WIDTH*0.24;y,-13;x,-150;strokecolor,color("#42292E");))(Title); \
		(cmd(visible,false))(Subtitle); \
		(cmd(zoom,0.75;maxwidth,SCREEN_WIDTH*0.36;y,13;x,-150;strokecolor,color("#42292E");))(Artist); \
	else \
		(cmd(zoom,0.9;maxwidth,SCREEN_WIDTH*0.24;y,-14;x,-150;strokecolor,color("#42292E");))(Title); \
		(cmd(visible,true;zoom,0.5;y,4;maxwidth,SCREEN_WIDTH*0.40;x,-150;strokecolor,color("#42292E");))(Subtitle); \
		(cmd(zoom,0.6;maxwidth,SCREEN_WIDTH*0.36;y,18;x,-150;strokecolor,color("#42292E");))(Artist); \
	end \
end;

[TextBannerCourse]
TitleOnCommand=horizalign,left
SubtitleOnCommand=horizalign,left
ArtistOnCommand=horizalign,left
ArtistPrependString=""
AfterSetCommand=%function(self) \
	local Title=self:GetChild("Title"); \
	local Subtitle=self:GetChild("Subtitle"); \
	local Artist=self:GetChild("Artist"); \
	if Subtitle:GetText() == "" then \
		(cmd(zoom,1.1;x,-220;maxwidth,340;y,-11))(Title); \
		(cmd(visible,false))(Subtitle); \
		(cmd(zoom,0.75;maxwidth,500;y,13;x,-220;))(Artist); \
	else \
		(cmd(zoom,0.9;x,-220;maxwidth,340;y,-13))(Title); \
		(cmd(visible,true;zoom,0.5;y,4;maxwidth,500;x,-220;))(Subtitle); \
		(cmd(zoom,0.6;maxwidth,500;y,18;x,-220;))(Artist); \
	end \
end;

[BitmapText]
# The colors in the 'roulette' text. you can have a lot!
NumRainbowColors=7
RainbowColor1=color("0.95,0.81,0.81,1")	-- red
RainbowColor2=color("0.95,0.82,0.95,1")	-- pink
RainbowColor3=color("0.87,0.82,0.95,1")	-- purple
RainbowColor4=color("0.82,0.88,0.95,1")	-- sky blue
RainbowColor5=color("0.82,0.95,0.88,1")	-- sea green
RainbowColor6=color("0.87,0.95,0.82,1")	-- green
RainbowColor7=color("1.00,0.85,0.78,1")	-- orange

[ScreenNestyPlayerOptions]
Class="ScreenWithMenuElements"
Fallback="ScreenWithMenuElements"
NextScreen="ScreenStageInformation"
PrevScreen=Branch.BackOutOfPlayerOptions()
RepeatRate=10
RepeatDelay=.25
PlayMusic=false
WaitForChildrenBeforeTweeningOut=false

[ScreenPlayerOptions]
LineNames="1,2,3A,3B,4,5,6,R1,R2,7,N,9,10,11,12,13,14,16,17"
LineN="lua,newskin_option_row()"

PlayerNameplateP1X=SCREEN_CENTER_X * 0.5 + 16
PlayerNameplateP1Y=SCREEN_CENTER_Y + 274
PlayerNameplateP1OnCommand=draworder,DrawOrder.Decorations;
PlayerNameplateP1OffCommand=

PlayerNameplateP2X=SCREEN_CENTER_X * 1.5 - 16
PlayerNameplateP2Y=SCREEN_CENTER_Y + 274
PlayerNameplateP2OnCommand=draworder,DrawOrder.Decorations;
PlayerNameplateP2OffCommand=

[ScreenMapControllers]
ShowHeader=false
ShowFooter=true
DevicesX=SCREEN_CENTER_X
DevicesY=SCREEN_TOP+8
DevicesOnCommand=vertalign,top;maxheight,92;zoom,0.75;draworder,5;strokecolor,color("0,0,0,1")
DevicesOffCommand=
#
# The ListHeader parts are the row that the player's cursor starts on with
# the names of the columns.
ListHeaderP1S1Command=x,SCREEN_CENTER_X-270-80
ListHeaderP1S2Command=x,SCREEN_CENTER_X-195-40
ListHeaderP1S3Command=x,SCREEN_CENTER_X-120
ListHeaderP2S1Command=x,SCREEN_CENTER_X+120
ListHeaderP2S2Command=x,SCREEN_CENTER_X+195+40
ListHeaderP2S3Command=x,SCREEN_CENTER_X+270+80
# ListHeaderCenterOnCommand is for the center element of the ListHeader.
ListHeaderCenterOnCommand=x,SCREEN_CENTER_X;y,-6;zoom,0.7;shadowlength,1;ztest,true
# These commands are shared by all the ListHeader parts.
ListHeaderOnCommand=diffuse,color("#808080");shadowlength,0;max_dimension_use_zoom,true;zoom,0.75;maxwidth,130;
ListHeaderGainFocusCommand=diffuse,color("#808080");diffuseshift;effectcolor2,color("#808080");effectcolor1,color("#FFFFFF")
ListHeaderLoseFocusCommand=diffuse,color("#808080");stopeffect
# The positions of the elements showing what is mapped.
MappedToP1S1Command=x,SCREEN_CENTER_X-270-80
MappedToP1S2Command=x,SCREEN_CENTER_X-195-40
MappedToP1S3Command=x,SCREEN_CENTER_X-120
MappedToP2S1Command=x,SCREEN_CENTER_X+120
MappedToP2S2Command=x,SCREEN_CENTER_X+195+40
MappedToP2S3Command=x,SCREEN_CENTER_X+270+80
# These commands are shared between all the elements.
MappedToOnCommand=diffuse,color("#808080");shadowlength,0;zoom,0.75;max_dimension_use_zoom,true;maxwidth,130
# WaitingCommand is executed when the player hits enter to set a key.
MappedToWaitingCommand=diffuse,color("#FF8080");pulse;effectperiod,0.5;effectmagnitude,0.8,1.3,0
# MappedInputCommand is executed after the player maps the key.
MappedToMappedInputCommand=diffuse,color("#808080");diffuseshift;effectcolor2,color("#808080");effectcolor1,color("#FFFFFF")
MappedToGainFocusCommand=diffuse,color("#808080");diffuseshift;effectcolor2,color("#808080");effectcolor1,color("#FFFFFF")
MappedToLoseFocusCommand=diffuse,color("#808080");stopeffect
# GainMarkCommand is executed when the player adds the element to the set list.
MappedToGainMarkCommand=textglowmode,'TextGlowMode_Inner';glow,color("#FF00007f")
# LoseMarkCommand is executed when the player removes the element from the set list.
MappedToLoseMarkCommand=textglowmode,'TextGlowMode_Inner';glow,color("#FF000000")
#
# The LineScroller is an ActorScroller that controls the positioning of the
# rows.
LineScrollerOnCommand=%function(self) self:draworder(-1); self:y(64) self:setsecondsperitem(0.1) self:SetTransformFromHeight(36) end
LineScrollerOffCommand=
LineHideCommand=visible,false
LineOnCommand=%function(self) self:y(0); self:visible(true); local LeftToRight = math.mod(self.ItemIndex, 2) == 0 and 1 or -1; self:addx(-SCREEN_WIDTH * LeftToRight); end
LineOffCommand=%function(self) local LeftToRight = math.mod(self.ItemIndex, 2) == 0 and 1 or -1; self:stoptweening() self:accelerate(0.3); self:addx(SCREEN_WIDTH * LeftToRight); self:queuecommand('Hide') end
#
# The "P1 slots" and "P2 slots" labels.  Use the entries in en.ini to change text.
LabelP1OnCommand=x,SCREEN_CENTER_X*0.4;zoom,0.7;shadowlength,1
LabelP1OffCommand=linear,0.5;diffusealpha,0
LabelP2OnCommand=x,SCREEN_CENTER_X*1.6;zoom,0.7;shadowlength,1
LabelP2OffCommand=linear,0.5;diffusealpha,0
# The primary effect of keys on this row.
PrimaryOnCommand=x,SCREEN_CENTER_X;y,-6;zoom,0.7;shadowlength,1;ztest,true
# The secondary effect of keys on this row.
SecondaryOnCommand=x,SCREEN_CENTER_X;y,6;zoom,0.5;shadowlength,1;ztest,true
# 06 #
[Judgment]
JudgmentW1Command=finishtweening;shadowlength,0;y,0;diffusealpha,1;zoom,0.9;smooth,0.05;zoom,0.75;sleep,0.8;smooth,0.1;zoomy,0.5;zoomx,1.3;diffusealpha,0;glowblink;effectperiod,0.05;effectcolor1,color("1,1,1,0");effectcolor2,color("1,1,1,0.25")
JudgmentW2Command=finishtweening;y,0;shadowlength,0;diffusealpha,1;zoom,0.9;smooth,0.05;zoom,0.75;sleep,0.5;smooth,0.1;zoomy,0.5;zoomx,2;diffusealpha,0
JudgmentW3Command=finishtweening;y,0;shadowlength,0;diffusealpha,1;zoom,0.9;smooth,0.05;zoom,0.75;sleep,0.5;smooth,0.1;zoomy,0.5;zoomx,2;diffusealpha,0;
JudgmentW4Command=finishtweening;y,0;shadowlength,0;diffusealpha,1;zoom,0.9;smooth,0.05;zoom,0.75;sleep,0.5;smooth,0.1;zoomy,0.5;zoomx,2;diffusealpha,0;
JudgmentW5Command=finishtweening;y,0;shadowlength,0;diffusealpha,1;zoom,0.75;vibrate;effectmagnitude,1,2,2;sleep,0.5;smooth,0.1;zoomy,0.5;zoomx,2;diffusealpha,0
JudgmentMissCommand=finishtweening;y,0;shadowlength,0;diffusealpha,1;zoom,0.75;y,-20;smooth,0.8;y,20;sleep,0.5;smooth,0.1;zoomy,0.5;zoomx,2;diffusealpha,0
# Late/Early
OffsetOnCommand=
OffsetLateCommand=
OffsetEarlyCommand=

[HoldJudgment]
HoldJudgmentLetGoCommand=finishtweening;visible,true;shadowlength,0;diffusealpha,1;zoom,1;linear,0.8;zoom,0.75;sleep,0.5;linear,0.1;diffusealpha,0
HoldJudgmentHeldCommand=finishtweening;visible,true;shadowlength,0;diffusealpha,1;zoom,1;linear,0.3;zoom,0.75;sleep,0.5;linear,0.1;diffusealpha,0

[Protiming]
ProtimingOnCommand=shadowlength,1;horizalign,right;x,30;strokecolor,Color("Outline");skewx,-0.125;textglowmode,"TextGlowMode_Inner";
AverageOnCommand=shadowlength,1;horizalign,left;x,32;y,8;zoom,0.75;diffuse,ColorLightTone( Color("Green") );strokecolor,Color("Outline");skewx,-0.125;textglowmode,"TextGlowMode_Inner";
TextOnCommand=shadowlength,1;horizalign,left;x,32;y,-6;zoom,0.5;strokecolor,Color("Outline");skewx,-0.125;textglowmode,"TextGlowMode_Inner";
#
ProtimingW1Command=finishtweening;diffuse,Color("White");zoom,1.15;glow,Color("White");linear,0.05;zoom,1;glow,Color("Invisible");diffuse,GameColor.Judgment["JudgmentLine_W1"];sleep,2;linear,0.5;diffuse,Color("Invisible");
ProtimingW2Command=finishtweening;diffuse,Color("White");zoom,1.15;glow,Color("White");linear,0.05;zoom,1;glow,Color("Invisible");diffuse,GameColor.Judgment["JudgmentLine_W2"];sleep,2;linear,0.5;diffuse,Color("Invisible");
ProtimingW3Command=finishtweening;diffuse,Color("White");zoom,1.15;glow,Color("White");linear,0.05;zoom,1;glow,Color("Invisible");diffuse,GameColor.Judgment["JudgmentLine_W3"];sleep,2;linear,0.5;diffuse,Color("Invisible");
ProtimingW4Command=finishtweening;diffuse,Color("White");zoom,1.15;glow,Color("White");linear,0.05;zoom,1;glow,Color("Invisible");diffuse,GameColor.Judgment["JudgmentLine_W4"];sleep,2;linear,0.5;diffuse,Color("Invisible");
ProtimingW5Command=finishtweening;diffuse,Color("White");zoom,1.15;glow,Color("White");linear,0.05;zoom,1;glow,Color("Invisible");diffuse,GameColor.Judgment["JudgmentLine_W5"];sleep,2;linear,0.5;diffuse,Color("Invisible");
ProtimingMissCommand=finishtweening;diffusealpha,1;zoom,1.15;glow,GameColor.Judgment["JudgmentLine_Miss"];linear,0.05;zoom,1;glow,Color("Invisible");diffuse,GameColor.Judgment["JudgmentLine_Miss"];sleep,2;linear,0.5;diffuse,Color("Invisible");
#
AveragePulseCommand=finishtweening;diffusealpha,1;zoom,0.75*1.025;decelerate,0.05;zoom,0.75;sleep,2;linear,0.5;diffusealpha,0;
TextPulseCommand=finishtweening;diffusealpha,1;zoom,0.5*1.025;decelerate,0.05;zoom,0.5;sleep,2;linear,0.5;diffusealpha,0;


[Combo]
ShowComboAt=2
LabelMinZoom=0.8*1
LabelMaxZoom=1.0*1

PulseCommand=%function(self,param) self:finishtweening(); self:diffusealpha(1); self:zoom(1.05*param.Zoom); self:linear(0.05); self:zoom(param.Zoom); end;
PulseLabelCommand=%function(self,param) self:finishtweening(); self:diffusealpha(1); self:zoom(1.0125*param.LabelZoom); self:linear(0.05); self:zoom(param.LabelZoom); end;
ComboLabelOnCommand=x,6;y,25;shadowlength,1;zoom,0.75;align,0,1
MissLabelOnCommand=x,6;y,25;shadowlength,1;zoom,0.75;align,0,1


[ScreenStageInformation]
ShowHeader=False
ShowFooter=False

[LifeMeterBar]
DangerThreshold=0.275

[ScreenGameplay]
ShowHeader=False
ShowFooter=False
#
LifeP1OnCommand=visible,false
LifeP2OnCommand=visible,false
ShowLifeMeterBarP1=GAMESTATE:GetPlayMode() ~= 'PlayMode_Rave'
ShowLifeMeterBarP2=GAMESTATE:GetPlayMode() ~= 'PlayMode_Rave'
#
LifeMeterBarP1X=SCREEN_LEFT+40;
LifeMeterBarP1Y=SCREEN_CENTER_Y
LifeMeterBarP1OnCommand=player,PLAYER_1;rotationz,-90;addx,-100;sleep,1;decelerate,0.9;addx,100;
LifeMeterBarP1OffCommand=sleep,1;decelerate,0.9;addx,-100;
LifeMeterBarP2X=SCREEN_RIGHT-40;
LifeMeterBarP2Y=SCREEN_CENTER_Y
LifeMeterBarP2OnCommand=player,PLAYER_2;rotationz,-90;addx,100;sleep,1;decelerate,0.9;addx,-100;
LifeMeterBarP2OffCommand=sleep,1;decelerate,0.9;addx,100;
#
ScoreP1X=Center1Player() and SCREEN_CENTER_X or THEME:GetMetric(Var "LoadingScreen","PlayerP1MiscX")
ScoreP1Y=SCREEN_TOP+40
ScoreP1OnCommand=visible,(GAMESTATE:GetCurrentCourse() == nil or GAMESTATE:GetCurrentCourse():GetCourseType() ~= "CourseType_Survival") and player_config:get_data(PLAYER_1).GameplayShowScore;zoom,0.75;diffuse,ColorLightTone(PlayerColor(PLAYER_1));hide_if,(GAMESTATE:GetCurrentStyle():GetStyleType() == "StyleType_TwoPlayersSharedSides") and GAMESTATE:GetMasterPlayerNumber() ~= PLAYER_1;addy,-100;sleep,1.3;decelerate,0.7;addy,100;
ScoreP1OffCommand=sleep,1;decelerate,0.9;addy,-100;
ScoreP2X=Center1Player() and SCREEN_CENTER_X or THEME:GetMetric(Var "LoadingScreen","PlayerP2MiscX")
ScoreP2Y=SCREEN_TOP+40
ScoreP2OnCommand=visible,(GAMESTATE:GetCurrentCourse() == nil or GAMESTATE:GetCurrentCourse():GetCourseType() ~= "CourseType_Survival") and player_config:get_data(PLAYER_2).GameplayShowScore;zoom,0.75;diffuse,ColorLightTone(PlayerColor(PLAYER_2));hide_if,(GAMESTATE:GetCurrentStyle():GetStyleType() == "StyleType_TwoPlayersSharedSides") and GAMESTATE:GetMasterPlayerNumber() ~= PLAYER_2;addy,-100;sleep,1.3;decelerate,0.7;addy,100;
ScoreP2OffCommand=sleep,1;decelerate,0.9;addy,-100;
#
StepsDisplayP1OnCommand=visible,false
StepsDisplayP2OnCommand=visible,false
StepsDisplayP1HideCommand=visible,false
StepsDisplayP2HideCommand=visible,false
StepsDisplayP1ShowCommand=visible,false
StepsDisplayP2ShowCommand=visible,false
StepsDisplayP1Y=SCREEN_BOTTOM+999
StepsDisplayP2Y=SCREEN_BOTTOM+999
#
ShowStageDisplay=theme_config:get_data().GameplayFooter
StageDisplayX=SCREEN_CENTER_X
StageDisplayY=SCREEN_BOTTOM-25
StageDisplayOnCommand=draworder,DrawOrder.Screen;addy,100;sleep,0.5;decelerate,0.7;addy,-100;
StageDisplayOffCommand=sleep,1;decelerate,0.9;addy,100;
StageDisplayUseShortString=true
#
CombinedLifeX=SCREEN_CENTER_X
CombinedLifeY=SCREEN_TOP-46
CombinedLifeOnCommand=sleep,0.4;decelerate,0.3;addy,73;
CombinedLifeOffCommand=sleep,0.6;decelerate,0.5;addy,-73;
#
RemainingTimeP1X=THEME:GetMetric(Var "LoadingScreen","ScoreP1X") +60
RemainingTimeP1Y=THEME:GetMetric(Var "LoadingScreen","ScoreP1Y")
RemainingTimeP1OnCommand=zoom,1;diffuse,ColorLightTone(PlayerColor(PLAYER_1));strokecolor,ColorDarkTone(PlayerColor(PLAYER_1));addy,-100;sleep,1.3;decelerate,0.7;addy,100;
RemainingTimeP1OffCommand=sleep,1;decelerate,0.9;addy,-100;
RemainingTimeP2X=THEME:GetMetric(Var "LoadingScreen","ScoreP2X") +60
RemainingTimeP2Y=THEME:GetMetric(Var "LoadingScreen","ScoreP2Y")
RemainingTimeP2OnCommand=zoom,1;diffuse,ColorLightTone(PlayerColor(PLAYER_2));strokecolor,ColorDarkTone(PlayerColor(PLAYER_2));addy,-100;sleep,1.3;decelerate,0.7;addy,100;
RemainingTimeP2OffCommand=sleep,1;decelerate,0.9;addy,-100;
#
DeltaSecondsP1X=THEME:GetMetric(Var "LoadingScreen","RemainingTimeP1X") - 120
DeltaSecondsP1Y=THEME:GetMetric(Var "LoadingScreen","RemainingTimeP1Y")
DeltaSecondsP1OnCommand=shadowlength,1;skewx,-0.125
DeltaSecondsP1GainSecondsCommand=finishtweening;diffusealpha,1;zoom,1;decelerate,0.3;zoom,0.75;sleep,0.5;linear,0.2;diffusealpha,0;zoom,0
DeltaSecondsP1OffCommand=
DeltaSecondsP2X=THEME:GetMetric(Var "LoadingScreen","RemainingTimeP2X") - 120
DeltaSecondsP2Y=THEME:GetMetric(Var "LoadingScreen","RemainingTimeP2Y")
DeltaSecondsP2OnCommand=shadowlength,1;skewx,-0.125
DeltaSecondsP2GainSecondsCommand=finishtweening;diffusealpha,1;zoom,1;decelerate,0.3;zoom,0.75;sleep,0.5;linear,0.2;diffusealpha,0;zoom,0
DeltaSecondsP2OffCommand=
#
# Disable the normal start and select button actions to enable a custom pause
# menu
DebugOnCommand=visible,false
StartGivesUp=false
UnpauseWithStart=false
SelectSkipsSong=false
StopCourseEarly=check_stop_course_early()
#
LyricDisplaySetNoReverseCommand=x,SCREEN_CENTER_X+0;y,SCREEN_CENTER_Y+260;
LyricDisplaySetReverseCommand=x,SCREEN_CENTER_X+0;y,SCREEN_CENTER_Y-260
# This is used if one player is in reverse and the other isn't.
LyricDisplaySetOneReverseCommand=x,SCREEN_CENTER_X+0;y,SCREEN_CENTER_Y-260
LyricDisplayDefaultColor=color("0,1,0,1");

[ScoreDisplayNormal]
TextY=
TextOnCommand=zoom,1;

[ScoreDisplayPercentage Percent]
PercentP1OnCommand=shadowlength,1;strokecolor,Color.Outline
PercentP2OnCommand=shadowlength,1;strokecolor,Color.Outline
DancePointsP1OnCommand=shadowlength,1;strokecolor,Color.Outline
DancePointsP2OnCommand=shadowlength,1;strokecolor,Color.Outline


[ScoreDisplayOni]
TextOnCommand=zoom,1;
TextOffCommand=

[ScoreDisplayOni Numbers]
TextOnCommand=zoom,1;
TextOffCommand=

# 07 #
[ScreenEvaluationNormal]
ShowTimingDifficulty=true
TimingDifficultyX=SCREEN_CENTER_X;
TimingDifficultyY=SCREEN_BOTTOM-100+6;
TimingDifficultyOnCommand=shadowlength,1;
TimingDifficultyOffCommand=decelerate,0.3;diffusealpha,0;
#
ShowLifeDifficulty=true
LifeDifficultyX=SCREEN_CENTER_X;
LifeDifficultyY=SCREEN_BOTTOM-120+6;
LifeDifficultyOnCommand=shadowlength,1;
LifeDifficultyOffCommand=decelerate,0.3;diffusealpha,0;
#
StageDisplayUseShortString=false

[ScreenEvaluationSummary]
ShowTimingDifficulty=false
ShowLifeDifficulty=false
StageDisplayUseShortString=false

[ScreenGameOver]
ShowHeader=false
ShowFooter=false
ShowTimer=false

# 08 #
[ScreenEdit]
ShowHeader=false
ShowFooter=false
EditHelpX=SCREEN_LEFT+8
EditHelpY=SCREEN_TOP+16
EditHelpOnCommand=halign,0;valign,0;zoom,0.75;shadowlength,1;maxheight,(SCREEN_HEIGHT-32)*2
InfoX=SCREEN_RIGHT-180
InfoY=SCREEN_TOP+16
InfoOnCommand=halign,0;valign,0;zoom,0.75;shadowlength,1;maxheight,(SCREEN_HEIGHT-32)*2

#
[ScreenJukebox]
MinSecondsToStep=0
MinSecondsToMusic=0

ShowStageDisplay=false

ShowLifeMeterBarP1=false
ShowLifeMeterBarP2=false

ScoreP1OnCommand=visible,false
ScoreP2OnCommand=visible,false

#
[ScreenLogo]
TimerSeconds=20
ShowHeader=false
ShowFooter=false

# ScreenHowToPlay is kind of broken right now
NextScreen="ScreenDemonstration"

ShowLogo=true
LogoX=SCREEN_CENTER_X
LogoY=SCREEN_CENTER_Y-18
LogoOnCommand=
LogoOffCommand=

ArcadeOverlayX=SCREEN_CENTER_X
ArcadeOverlayY=SCREEN_BOTTOM-60
ArcadeOverlay.TextX=
ArcadeOverlay.TextY=

[ScreenDemonstration]
ShowStageDisplay=false

ShowLifeMeterBarP1=false
ShowLifeMeterBarP2=false

ScoreP1OnCommand=visible,false
ScoreP2OnCommand=visible,false

# Online #
[ScreenNetSelectBase]
Class="ScreenNetSelectBase"
Fallback="ScreenWithMenuElements"

ChatInputBoxX=SCREEN_CENTER_X*0.5
ChatInputBoxY=SCREEN_CENTER_Y-200
ChatInputBoxOnCommand=bounceend,0.5;diffusealpha,1;
ChatInputBoxOffCommand=bouncebegin,0.5;zoomy,0
ChatInputBoxWidth=SCREEN_CENTER_X*0.9
ChatInputBoxHeight=64
#--#
ChatInputX=(SCREEN_CENTER_X*0.5)*0.125
ChatInputY=SCREEN_CENTER_Y+90
ChatTextInputWidth=SCREEN_CENTER_X*1.8
ChatInputOnCommand=halign,0;valign,0;zoom,0.5;diffusealpha,0;linear,0.55;diffusealpha,1
ChatInputOffCommand=diffusealpha,1;linear,0.5;diffusealpha,0
#
UsersOnCommand=draworder,2;zoom,1;strokecolor,color("#000000");zoom,0.7

[OnlineMusicWheel]
Fallback="MusicWheel"
# roulette + online causes a sorting issue that should be hammered out first. -aj
ShowRoulette=false
ShowRandom=false
ShowPortal=false

[ScreenNetRoom]
RoomWheelX=SCREEN_CENTER_X+326
RoomWheelY=SCREEN_CENTER_Y-12
RoomWheelOnCommand=draworder,-5;fov,90;vanishpoint,SCREEN_CENTER_X+160,SCREEN_CENTER_Y;addx,SCREEN_CENTER_X+60;sleep,0.2;decelerate,0.6;addx,-SCREEN_CENTER_X-60
RoomWheelCommand=decelerate,0.4;x,SCREEN_WIDTH/0.75
#
ChatInputBoxX=SCREEN_CENTER_X*0.5
ChatInputBoxY=SCREEN_CENTER_Y+112
ChatInputBoxOnCommand=diffusealpha,0;
ChatInputBoxOffCommand=bouncebegin,0.5;zoomy,0
ChatInputBoxWidth=SCREEN_CENTER_X*0.9
ChatInputBoxHeight=64
#
ChatInputX=(SCREEN_CENTER_X*0.46)*0.125
ChatInputY=SCREEN_CENTER_Y+160
ChatTextInputWidth=SCREEN_CENTER_X*1.4
ChatInputOnCommand=halign,0;valign,0;zoom,0.6;diffusealpha,0;linear,0.55;diffusealpha,1
ChatInputOffCommand=diffusealpha,1;linear,0.5;diffusealpha,0
#
ChatOutputBoxX=SCREEN_CENTER_X*0.46
ChatOutputBoxY=SCREEN_CENTER_Y+150
ChatOutputBoxOnCommand=diffusealpha,0;
ChatOutputBoxOffCommand=diffusealpha,0;
ChatOutputBoxWidth=SCREEN_CENTER_X*0.9
ChatOutputBoxHeight=SCREEN_CENTER_Y*0.875

#
ChatOutputX=(SCREEN_CENTER_X*0.46)*0.125
ChatOutputY=SCREEN_CENTER_Y+150
ChatTextOutputWidth=SCREEN_CENTER_X*1.5
ChatOutputLines=12
ChatOutputOnCommand=halign,0;valign,1;zoom,0.6;diffusealpha,0;linear,0.55;diffusealpha,1
ChatOutputOffCommand=diffusealpha,1;linear,0.5;diffusealpha,0
#

[ScreenNetSelectMusic]
ShowSongTime=true
ShowCourseContentsList=false
ShowBPMDisplay=true
ShowDifficultyList=false
#
ShowSongTime=true
SongTimeX=
SongTimeY=SCREEN_CENTER_Y-78+2
SongTimeOnCommand=horizalign,left;zoom,1.0;diffuse,color("#DFE2E9")
#
ShowBPMDisplay=true
BPMDisplayX=SCREEN_CENTER_X-179-63
BPMDisplayY=SCREEN_CENTER_Y-78+2
BPMDisplayOnCommand=horizalign,right;zoom,1.0;
#
StepsDisplayP1X=SCREEN_CENTER_X
StepsDisplayP1Y=SCREEN_CENTER_Y+8888
StepsDisplayP2X=SCREEN_CENTER_X
StepsDisplayP2Y=SCREEN_CENTER_Y+8888
#
StepsDisplayP1OnCommand=visible,false;
StepsDisplayP2OnCommand=visible,false;
#
ShowPaneDisplayTextP1=true
PaneDisplayTextP1X=SCREEN_CENTER_X-200+24-32
PaneDisplayTextP1Y=SCREEN_CENTER_Y+207+8
PaneDisplayTextP1OnCommand=player,PLAYER_1;horizalign,center;zoomy,0;sleep,0.4;decelerate,0.3;zoomy,1
PaneDisplayTextP1OffCommand=smooth,0.2;zoomy,0;
PaneDisplayTextP1PlayerJoinedMessageCommand=%function(self,params) if params.Player == PLAYER_1 then self:playcommand("On") end end
#
ShowPaneDisplayTextP2=true
PaneDisplayTextP2X=SCREEN_CENTER_X+200-72-4+32
PaneDisplayTextP2Y=SCREEN_CENTER_Y+207+8
PaneDisplayTextP2OnCommand=player,PLAYER_2;horizalign,center;zoomy,0;sleep,0.4;decelerate,0.3;zoomy,1
PaneDisplayTextP2OffCommand=smooth,0.2;zoomy,0;
PaneDisplayTextP2PlayerJoinedMessageCommand=%function(self,params) if params.Player == PLAYER_2 then self:playcommand("On") end end
#
PercentScoreP1X=SCREEN_CENTER_X-353-32
PercentScoreP1Y=SCREEN_CENTER_Y+284
PercentScoreP1OnCommand=zoomy,0;zoomx,0.35;sleep,0.8;smooth,0.2;zoomy,0.35
PercentScoreP1OffCommand=smooth,0.2;zoomy,0;addy,-6;
#
PercentScoreP2X=SCREEN_CENTER_X+353+32
PercentScoreP2Y=SCREEN_CENTER_Y+284
PercentScoreP2OnCommand=zoomy,0;zoomx,0.35;sleep,0.8;smooth,0.2;zoomy,0.35
PercentScoreP2OffCommand=smooth,0.2;zoomy,0;addy,-6;
NullScoreString=string.format("% 9i",0)
#
MusicWheelX=SCREEN_CENTER_X+326
MusicWheelY=SCREEN_CENTER_Y-12
MusicWheelOnCommand=draworder,-5;fov,90;vanishpoint,SCREEN_CENTER_X+160,SCREEN_CENTER_Y;addx,SCREEN_CENTER_X+60;sleep,0.2;decelerate,0.6;addx,-SCREEN_CENTER_X-60
MusicWheelOffCommand=decelerate,0.4;x,SCREEN_WIDTH/0.75
#
ChatInputX=(SCREEN_CENTER_X*0.46)*0.125
ChatInputY=SCREEN_CENTER_Y+160
ChatTextInputWidth=SCREEN_CENTER_X*1.4
ChatInputOnCommand=halign,0;valign,0;zoom,0.6;diffusealpha,0;linear,0.55;diffusealpha,1
ChatInputOffCommand=diffusealpha,1;linear,0.5;diffusealpha,0
#
ChatInputBoxX=SCREEN_CENTER_X*0.5
ChatInputBoxY=SCREEN_CENTER_Y+112
ChatInputBoxOnCommand=diffusealpha,0;
ChatInputBoxOffCommand=bouncebegin,0.5;zoomy,0
ChatInputBoxWidth=SCREEN_CENTER_X*0.9
ChatInputBoxHeight=64
#
ChatOutputBoxX=SCREEN_CENTER_X*0.46
ChatOutputBoxY=SCREEN_CENTER_Y+150
ChatOutputBoxOnCommand=diffusealpha,0;
ChatOutputBoxOffCommand=diffusealpha,0;
ChatOutputBoxWidth=SCREEN_CENTER_X*0.9
ChatOutputBoxHeight=SCREEN_CENTER_Y*0.875

#
ChatOutputX=(SCREEN_CENTER_X*0.46)*0.125
ChatOutputY=SCREEN_CENTER_Y+150
ChatTextOutputWidth=SCREEN_CENTER_X*1.5
ChatOutputLines=12
ChatOutputOnCommand=halign,0;valign,1;zoom,0.6;diffusealpha,0;linear,0.55;diffusealpha,1
ChatOutputOffCommand=diffusealpha,1;linear,0.5;diffusealpha,0
#
UsersX=SCREEN_CENTER_X-272
UsersY=SCREEN_CENTER_Y-172
UsersDX=40
UsersAY=16
UsersOnCommand=draworder,2;zoom,0.75;shadowlength,1

[RoomWheelItem]
TextX=0
TextY=0
TextOnCommand=horizalign,left;zoom,1.1;maxwidth,SCREEN_WIDTH*0.31;y,-14;x,-200;strokecolor,color("#42292E");

DescriptionX=0
DescriptionY=0
DescriptionOnCommand=horizalign,left;zoom,0.75;maxwidth,SCREEN_WIDTH*0.5;x,-200;y,16;strokecolor,color("#42292E");